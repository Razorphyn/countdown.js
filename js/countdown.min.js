/*!jQuery Countdown*/
/**
 * Simple COuntdown with callback and Time Zone Support
 *
 * Version: 1.0.0 (12/11/2013)
 * Requires: jQuery v1.7+
 *
 * Where applicable: Copyright (c) 2013 Luca Grandi
 * Under MIT:
 *  http://www.opensource.org/licenses/mit-license.php
 *
 *
 */
(function(d){function m(){var b=document.createElement("canvas");return!(!b.getContext||!b.getContext("2d"))}d.fn.countdown=function(b,e){function f(){currentDate=Math.floor(((new Date).getTime()-c.offset)/1E3);eventDate<currentDate?(null!=a.callback&&a.callback.call(this),"undefined"!=typeof interval&&clearInterval(interval)):(seconds=eventDate-currentDate,days=Math.floor(seconds/86400),seconds-=86400*days,hours=Math.floor(seconds/3600),seconds-=3600*hours,minutes=Math.floor(seconds/60),seconds-= 60*minutes,1==days?thisEl.find(".timeRefDays").text("Day"):thisEl.find(".timeRefDays").text("Days"),1==hours?thisEl.find(".timeRefHours").text("Hour"):thisEl.find(".timeRefHours").text("Hours"),1==minutes?thisEl.find(".timeRefMinutes").text("Minute"):thisEl.find(".timeRefMinutes").text("Minutes"),1==seconds?thisEl.find(".timeRefSeconds").text("Second"):thisEl.find(".timeRefSeconds").text("Seconds"),1!=a.knob?(0!=a.format&&(days=2<=String(days).length?days:"0"+days,hours=2<=String(hours).length?hours: "0"+hours,minutes=2<=String(minutes).length?minutes:"0"+minutes,seconds=2<=String(seconds).length?seconds:"0"+seconds),thisEl.find(".days").text(days),thisEl.find(".hours").text(hours),thisEl.find(".minutes").text(minutes),thisEl.find(".seconds").text(seconds)):(g.val(days).trigger("change"),h.val(hours).trigger("change"),k.val(minutes).trigger("change"),l.val(seconds).trigger("change")))}var a={knob:!1,date:null,format:!0,callback:null},c={timezone:!1,offset:0};b&&d.extend(a,b);e&&d.extend(c,e); eventDate=(new Date(a.date)).getTime()/1E3;!0==c.timezone&&(c.offset=36E5*parseInt(c.offset)-6E4*(new Date).getTimezoneOffset());thisEl=d(this);if(0!=a.knob&&m){var g=thisEl.find(".days"),h=thisEl.find(".hours"),k=thisEl.find(".minutes"),l=thisEl.find(".seconds");g.knob({min:0});h.knob({min:0,max:23});k.knob({min:0,max:59});l.knob({min:0,max:59})}else a.knob=0,thisEl.html('<ul id="countdown"><li><span class="days">00</span><p class="timeRefDays">Days</p></li><li><span class="hours">00</span><p class="timeRefHours">Hours</p></li><li><span class="minutes">00</span><p class="timeRefMinutes">Minutes</p></li><li><span class="seconds">00</span><p class="timeRefSeconds">Seconds</p></li></ul>'); f();interval=setInterval(f,1E3);isNaN(eventDate)&&(alert("Invalid date mm/dd/yyyy. Here's an example: 12/25/2013 17:30:00"),clearInterval(interval))}})(jQuery);